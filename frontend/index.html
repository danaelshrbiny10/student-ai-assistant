<!doctype html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Student Assistant</title>

    <!-- Local CSS -->
    <link rel="stylesheet" href="/style.css" />

    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Cairo:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- Bootstrap 5 CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body class="light-mode" dir="ltr">
    <!-- Top Navigation -->
    <nav class="navbar"  onclick="showPage('dashboard')">
      <div class="nav-container">
        <div class="nav-brand">
          <i class="fas fa-graduation-cap"></i>
          <h1>Student Assistant</h1>
        </div>

      <div class="nav-brand">
  

        <div class="menu_toggler">
          <button class="burger-menu">
            <span class="line line1"></span>
            <span class="line line2"></span>
            <span class="line line3"></span>
          </button>
        </div>
      </div>
    </nav>

    <!-- menu -->
    <div class="mobile-nav" id="mobileNav">
      <a href="#dashboard" class="mobile-nav-link active" data-page="dashboard">
        <i class="fas fa-tachometer-alt"></i>
        <span>Dashboard</span>
      </a>
      <a href="#tasks" class="mobile-nav-link" data-page="tasks">
        <i class="fas fa-tasks"></i>
        <span>Tasks</span>
      </a>
      <a href="#notebook" class="mobile-nav-link" data-page="notebook">
        <i class="fas fa-book"></i>
        <span>AI Notebook</span>
      </a>
      <a href="#planner" class="mobile-nav-link" data-page="planner">
        <i class="fas fa-calendar-alt"></i>
        <span>Day Planner</span>
      </a>
      <a href="#habits" class="mobile-nav-link" data-page="habits">
        <i class="fas fa-chart-line"></i>
        <span>Habits</span>
      </a>
      <a href="#chat" class="mobile-nav-link" data-page="chat">
        <i class="fas fa-robot"></i>
        <span>AI Chat</span>
      </a>
    </div>
    <!-- Main Container -->
    <div class="container">
      <!-- Main Content -->
      <main class="main-content">
        <!-- Dashboard Page -->
        <div class="page active" id="dashboardPage">
          <div class="page-header">
            <h2>Dashboard</h2>
            <p>Welcome to your student assistant</p>
          </div>

          <!-- Stats Cards -->
          <div class="stats-grid">
            <div class="stat-card">
              <div
                class="stat-icon"
                style="background: linear-gradient(135deg, #4caf50, #2e7d32)"
              >
                <i class="fas fa-tasks"></i>
              </div>
              <div class="stat-info">
                <h3 id="totalTasks">12</h3>
                <p>Total Tasks</p>
              </div>
            </div>

            <div class="stat-card">
              <div
                class="stat-icon"
                style="background: linear-gradient(135deg, #2196f3, #0d47a1)"
              >
                <i class="fas fa-check-circle"></i>
              </div>
              <div class="stat-info">
                <h3 id="completedTasks">8</h3>
                <p>Completed</p>
              </div>
            </div>

            <div class="stat-card">
              <div
                class="stat-icon"
                style="background: linear-gradient(135deg, #ff9800, #e65100)"
              >
                <i class="fas fa-book"></i>
              </div>
              <div class="stat-info">
                <h3 id="totalDocs">5</h3>
                <p>Documents</p>
              </div>
            </div>

            <div class="stat-card">
              <div
                class="stat-icon"
                style="background: linear-gradient(135deg, #9c27b0, #4a148c)"
              >
                <i class="fas fa-clock"></i>
              </div>
              <div class="stat-info">
                <h3 id="studyHours">24.5</h3>
                <p>Study Hours</p>
              </div>
            </div>
          </div>

          <!-- Quick Actions -->
          <div class="section">
            <h3>Quick Actions</h3>
            <div class="actions-grid">
              <button class="action-btn" onclick="showPage('tasks')">
                <i class="fas fa-plus-circle"></i>
                <span>Add Task</span>
              </button>
              <button class="action-btn" onclick="showPage('notebook')">
                <i class="fas fa-upload"></i>
                <span>Upload Document</span>
              </button>
              <button class="action-btn" onclick="showPage('planner')">
                <i class="fas fa-calendar-plus"></i>
                <span>Generate Plan</span>
              </button>
              <button class="action-btn" onclick="showPage('chat')">
                <i class="fas fa-comment"></i>
                <span>Ask AI</span>
              </button>
            </div>
          </div>

          <!-- Recent Tasks -->
          <div class="section">
            <h3>Recent Tasks</h3>
            <div class="tasks-list" id="recentTasks">
              <!-- Recent tasks will be loaded here -->
            </div>
          </div>
        </div>

        <!-- Tasks Page -->
        <div class="page" id="tasksPage">
          <div class="page-header">
            <h2>Tasks</h2>
            <button class="btn btn-primary" onclick="showTaskModal()">
              <i class="fas fa-plus"></i>
              <span>Add Task</span>
            </button>
          </div>

          <!-- Task Filters -->
          <div class="filters">
            <button
              class="filter-btn active"
              onclick="filterTasks('all')"
              data-status="all"
            >
              All
            </button>
            <button
              class="filter-btn"
              onclick="filterTasks('pending')"
              data-status="pending"
            >
              Pending
            </button>
            <button
              class="filter-btn"
              onclick="filterTasks('completed')"
              data-status="completed"
            >
              Completed
            </button>
          </div>

          <!-- Task List -->
          <div class="tasks-container" id="tasksContainer">
            <!-- Tasks will be loaded here -->
          </div>
        </div>

        <!-- AI Notebook Page -->
        <div class="page" id="notebookPage">
          <div class="page-header">
            <h2>AI Notebook</h2>
            <button
              class="btn btn-primary"
              onclick="document.getElementById('fileInput').click()"
            >
              <i class="fas fa-upload"></i>
              <span>Upload Document</span>
            </button>
          </div>

          <!-- Document Upload Area -->
          <div
            class="upload-area"
            onclick="document.getElementById('fileInput').click()"
          >
            <i class="fas fa-cloud-upload-alt"></i>
            <h3>Drag & Drop your files here</h3>
            <p>or click to browse</p>
            <input
              type="file"
              id="fileInput"
              accept=".pdf,.doc,.docx,.txt,.md,.csv,.json,.jpg,.png,.ppt,.pptx"
              style="display: none"
            />
            <p class="file-info">Supported: PDF, DOC, TXT, Images, etc.</p>
          </div>

          <!-- Document List -->
          <div class="documents-list" id="documentsList">
            <!-- Documents will be loaded here -->
          </div>
        </div>

        <!-- Day Planner Page -->
        <div class="page" id="plannerPage">
          <div class="page-header">
            <h2>Day Planner</h2>
            <button class="btn btn-primary" onclick="generateDayPlan()">
              <i class="fas fa-magic"></i>
              <span>Generate Plan</span>
            </button>
          </div>

          <!-- Plan Settings -->
          <div class="plan-settings">
            <div class="setting-group">
              <label>Wake Up Time:</label>
              <input type="time" id="wakeTime" value="08:00" />
            </div>
            <div class="setting-group">
              <label>Sleep Time:</label>
              <input type="time" id="sleepTime" value="23:00" />
            </div>
            <div class="setting-group">
              <label>Energy Pattern:</label>
              <select id="energyPattern">
                <option value="standard">Standard</option>
                <option value="morning_person">Morning Person</option>
                <option value="night_owl">Night Owl</option>
              </select>
            </div>
          </div>

          <!-- Today's Plan -->
          <div class="todays-plan">
            <h3>Today's Plan</h3>
            <div class="schedule" id="scheduleContainer">
              <!-- Schedule items will be loaded here -->
            </div>
          </div>
        </div>

        <!-- Habits Page -->
        <div class="page" id="habitsPage">
          <div class="page-header">
            <h2>Habits</h2>
            <button class="btn btn-primary" onclick="showHabitModal()">
              <i class="fas fa-plus"></i>
              <span>Add Habit</span>
            </button>
          </div>

          <div class="habits-container" id="habitsContainer">
            <!-- Habits will be loaded here -->
          </div>
        </div>

        <!-- AI Chat Page -->
<div class="page" id="chatPage">
  <div class="page-header">
    <h2>AI Assistant</h2>
  </div>

      <!-- Chat Container -->
      <div class="chat-container">
        <div class="chat-messages" id="chatMessages">
          <div class="message ai-message">
            <div class="message-content">
              <p>
                Hello! I'm your AI assistant. How can I help you with your studies today?
              </p>
            </div>
          </div>
          <div class="message ai-message">
            <div class="message-content">
              <p>
                I can help you with: üìö Study tips, üìù Task management, üóìÔ∏è Planning your day, üìä Understanding concepts, and more!
              </p>
            </div>
          </div>
        </div>

        <div class="chat-input-wrapper" style="display: flex; align-items: center; justify-content: center; gap: 0.5rem; padding: 12px; background: #f9f9f9; border-top: 1px solid #ccc; border-radius: 0 0 8px 8px;">
  
        <input
          type="text"
          id="chatInput"
          placeholder="Type your question here..."
          style="flex: 1; padding: 0.5rem 1rem; border-radius: 6px; border: 1px solid #ccc; font-size: 1rem;"
        />
          <!-- Document dropdown -->
  <select id="chatDocSelect" class="btn btn-primary" style="height: 38px; padding: 0 1rem;">
            <option value="">No Document</option>
            <!-- JS will populate uploaded documents here -->
          </select>

  <button id="sendChatBtn" onclick="sendChatMessage()" class="btn btn-primary" style="height: 38px; padding: 0 1rem; display: flex; align-items: center; justify-content: center;">
            <i class="fas fa-paper-plane"></i>
          </button>
        </div>
      </div>
    </div>

    <!-- Task Modal -->
    <div class="modal" id="taskModal">
      <div class="modal-content">
        <div class="modal-header">
          <h3>Add New Task</h3>
          <button class="close-modal" onclick="closeModal('taskModal')">
            &times;
          </button>
        </div>
        <div class="modal-body">
          <form id="taskForm">
            <div class="form-group">
              <label>Title</label>
              <input type="text" id="taskTitle" required />
            </div>
            <div class="form-group">
              <label>Description</label>
              <textarea id="taskDescription" rows="3"></textarea>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label>Priority</label>
                <select id="taskPriority">
                  <option value="1">Low</option>
                  <option value="2" selected>Medium</option>
                  <option value="3">High</option>
                  <option value="4">Urgent</option>
                </select>
              </div>
              <div class="form-group">
                <label>Due Date</label>
                <input type="datetime-local" id="taskDueDate" />
              </div>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label>Category</label>
                <input
                  type="text"
                  id="taskCategory"
                  placeholder="e.g., Study, Work"
                />
              </div>
              <div class="form-group">
                <label>Estimated Minutes</label>
                <input type="number" id="taskEstimate" min="1" value="60" />
              </div>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                onclick="closeModal('taskModal')"
              >
                Cancel
              </button>
              <button type="submit" class="btn btn-primary">Save Task</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Habit Modal -->
    <div class="modal" id="habitModal">
      <div class="modal-content">
        <div class="modal-header">
          <h3 id="habitModalTitle">Add New Habit</h3>
          <button class="close-modal" onclick="closeModal('habitModal')">
            &times;
          </button>
        </div>
        <div class="modal-body">
          <form id="habitForm">
            <input type="hidden" id="habitId" value="" />
            <div class="form-group">
              <label>Habit Name</label>
              <input
                type="text"
                id="habitName"
                required
                placeholder="e.g., Read 30 minutes daily"
              />
            </div>
            <div class="form-group">
              <label>Description</label>
              <textarea id="habitDescription" rows="3"></textarea>
            </div>
            <div class="form-group">
              <label>Frequency</label>
              <select id="habitFrequency">
                <option value="daily" selected>Daily</option>
                <option value="weekly">Weekly</option>
              </select>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                onclick="closeModal('habitModal')"
              >
                Cancel
              </button>
              <button type="submit" class="btn btn-primary">Save Habit</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast"></div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
      <div class="spinner"></div>
      <p>Loading...</p>
    </div>

    <!-- Bootstrap 5 JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="script.js"></script>
  </body>
</html>
